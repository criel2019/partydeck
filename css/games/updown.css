/* ========================================= */
/* UP DOWN CSS */
/* Casino Green Felt + Card Game */
/* UP=Green / DOWN=Blue buttons */
/* ========================================= */

/* --- Screen --- */
#updownGame { padding: 0; gap: 0; position: relative; overflow: hidden; }

/* ===== Green Felt Background ===== */
.ud-felt {
  position: absolute; inset: 0;
  background:
    radial-gradient(ellipse at 40% 50%, #2a6b3a 0%, #1a4a28 40%, #0d2a14 80%, #061208 100%);
  border-radius: 12px;
  border: 3px solid #3a2a1a;
  box-shadow:
    0 0 0 2px #1a1008,
    0 0 0 5px #5a4a30,
    inset 0 0 60px rgba(0,0,0,0.3);
  overflow: hidden;
}
.ud-felt::before {
  content: '';
  position: absolute; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='4' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='0' width='1' height='1' fill='rgba(0,0,0,0.05)'/%3E%3Crect x='2' y='2' width='1' height='1' fill='rgba(255,255,255,0.02)'/%3E%3C/svg%3E");
  opacity: 0.8;
}
.ud-felt::after {
  content: '';
  position: absolute;
  top: -40%; left: 10%; width: 60%; height: 80%;
  background: radial-gradient(ellipse, rgba(80,160,90,0.15) 0%, transparent 70%);
  pointer-events: none;
}

/* ===== Content Overlay ===== */
.ud-content {
  position: absolute; inset: 0;
  display: flex;
  flex-direction: column;
  padding: 8px;
  z-index: 2;
}

/* ===== Top Bar ===== */
.ud-top-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 12px;
  background: rgba(0,0,0,0.4);
  border-radius: 8px;
  backdrop-filter: blur(6px);
  margin-bottom: 6px;
  flex-shrink: 0;
}
.ud-turn-name {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 15px;
  color: #00d4aa;
  text-shadow: 0 0 6px rgba(0,212,170,0.3);
  flex: 1;
}
.ud-deck-count {
  font-size: 12px;
  font-weight: 700;
  color: rgba(232,216,168,0.8);
  background: rgba(0,0,0,0.3);
  padding: 3px 10px;
  border-radius: 12px;
  border: 1px solid rgba(180,160,80,0.2);
  letter-spacing: 0.5px;
}

/* ===== Cards Area ===== */
.ud-cards-area {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  min-height: 0;
  width: 100%;
  padding: 8px 0;
}
.ud-card-label {
  font-size: 10px;
  font-weight: 700;
  color: rgba(232,216,168,0.5);
  text-transform: uppercase;
  letter-spacing: 1px;
  text-align: center;
  margin-bottom: 4px;
}

/* Previous card: small */
.ud-prev-slot {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
}
.ud-prev-card {
  width: clamp(40px, 8vh, 54px);
  height: clamp(58px, 11vh, 78px);
  background: linear-gradient(145deg, #fff 0%, #f0ece4 50%, #e8e0d0 100%);
  border-radius: 6px;
  border: 2px solid #bbb;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  position: relative;
  overflow: hidden;
}
.ud-prev-inner {
  position: absolute; inset: 2px;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  padding: 2px;
}
.ud-prev-corner {
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1;
}
.ud-prev-corner .ud-prev-rank {
  font-family: 'Oswald', 'Black Han Sans', sans-serif;
  font-size: clamp(11px, 2vh, 14px);
  font-weight: 700;
}
.ud-prev-corner .ud-prev-suit-sm {
  font-size: clamp(8px, 1.5vh, 10px);
  margin-top: -1px;
}
.ud-prev-center {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(16px, 3vh, 22px);
  opacity: 0.9;
}
.ud-prev-card.ud-red { color: #cc1111; }
.ud-prev-card.ud-black { color: #1a1a1a; }
.ud-prev-placeholder {
  width: clamp(40px, 8vh, 54px);
  height: clamp(58px, 11vh, 78px);
  border-radius: 6px;
  background: rgba(255,255,255,0.04);
  border: 2px dashed rgba(232,216,168,0.15);
}

/* Current card: hero (responsive size) */
.ud-hero-slot {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
}
.ud-hero-card {
  width: clamp(100px, 18vh, 160px);
  height: clamp(140px, 25vh, 224px);
  background: linear-gradient(145deg, #fff 0%, #f0ece4 50%, #e8e0d0 100%);
  border-radius: 12px;
  border: 2.5px solid #bbb;
  box-shadow:
    0 8px 24px rgba(0,0,0,0.5),
    0 3px 6px rgba(0,0,0,0.3),
    inset 0 1px 0 rgba(255,255,255,0.8);
  position: relative;
  overflow: hidden;
  transition: transform 0.5s ease;
}
.ud-hero-inner {
  position: absolute; inset: 5px;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  padding: 6px;
}
.ud-hero-corner {
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1;
}
.ud-hero-corner .ud-hero-rank {
  font-family: 'Oswald', 'Black Han Sans', sans-serif;
  font-size: clamp(22px, 4vh, 34px);
  font-weight: 700;
}
.ud-hero-corner .ud-hero-suit-sm {
  font-size: clamp(14px, 2.5vh, 20px);
  margin-top: -2px;
}
.ud-hero-corner.ud-corner-bottom {
  position: absolute;
  bottom: 6px; right: 8px;
  transform: rotate(180deg);
}
.ud-hero-center {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(40px, 8vh, 70px);
  opacity: 0.9;
}
.ud-hero-card.ud-red { color: #cc1111; }
.ud-hero-card.ud-black { color: #1a1a1a; }

/* Hero card back (facedown) */
.ud-hero-card.ud-card-back {
  background: linear-gradient(145deg, #3a2244, #1a0a22);
  border-color: #6a4a7a;
}
.ud-hero-card.ud-card-back .ud-hero-inner {
  border-color: rgba(255,255,255,0.06);
}
.ud-hero-back-pattern {
  width: 60%; height: 60%;
  background: repeating-linear-gradient(45deg, rgba(150,100,180,0.3), rgba(150,100,180,0.3) 4px, transparent 4px, transparent 9px);
  border-radius: 6px;
  position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
}

/* Card flip animation */
.ud-hero-card.ud-flipping {
  animation: udCardFlip 0.5s ease forwards;
}
@keyframes udCardFlip {
  0% { transform: rotateY(0deg) scale(1); }
  50% { transform: rotateY(90deg) scale(1.05); }
  100% { transform: rotateY(0deg) scale(1); }
}

/* ===== Result Text ===== */
.ud-result {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 22px;
  text-align: center;
  min-height: 28px;
  text-shadow: 0 2px 8px rgba(0,0,0,0.5);
  flex-shrink: 0;
  padding: 2px 0;
}

/* ===== Bottom Panel ===== */
.ud-bottom-panel {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex-shrink: 0;
  padding: 0 4px;
}

/* ===== Action Area (dynamic buttons) ===== */
.ud-action-area {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

/* UP/DOWN guess buttons container */
.ud-guess-buttons {
  display: flex;
  gap: 12px;
  width: 100%;
}

.ud-btn {
  flex: 1;
  padding: 14px 10px;
  border: none;
  border-radius: 14px;
  font-family: 'Black Han Sans', sans-serif;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  position: relative;
  overflow: hidden;
}
.ud-btn:active { transform: translateY(1px); }
.ud-btn:disabled { opacity: 0.3; cursor: not-allowed; }
.ud-btn-arrow {
  font-size: 24px;
  line-height: 1;
}
.ud-btn-label {
  font-size: 20px;
  letter-spacing: 4px;
}

/* UP = Green */
.ud-btn-up {
  background: linear-gradient(180deg, #00a86b, #006b3f);
  color: #fff;
  border-bottom: 4px solid #004025;
  box-shadow:
    0 6px 20px rgba(0,168,107,0.4),
    inset 0 2px 0 rgba(255,255,255,0.15);
}
.ud-btn-up:hover:not(:disabled) {
  transform: translateY(-3px);
  box-shadow: 0 10px 28px rgba(0,168,107,0.6), inset 0 2px 0 rgba(255,255,255,0.15);
}

/* DOWN = Blue */
.ud-btn-down {
  background: linear-gradient(180deg, #2962ff, #0d47a1);
  color: #fff;
  border-bottom: 4px solid #082e6a;
  box-shadow:
    0 6px 20px rgba(41,98,255,0.4),
    inset 0 2px 0 rgba(255,255,255,0.15);
}
.ud-btn-down:hover:not(:disabled) {
  transform: translateY(-3px);
  box-shadow: 0 10px 28px rgba(41,98,255,0.6), inset 0 2px 0 rgba(255,255,255,0.15);
}

/* Draw Button = Casino Gold/Brown (legacy fallback) */
.ud-btn-draw {
  background: linear-gradient(180deg, #8B6914, #5C3D0A);
  color: #fff;
  border-bottom: 4px solid #3a2505;
  box-shadow: 0 8px 24px rgba(92,61,10,0.5), inset 0 2px 0 rgba(255,255,255,0.15);
}

/* Submit Button = Casino Red (legacy fallback) */
.ud-btn-submit {
  background: linear-gradient(180deg, #c41e3a, #8b0000);
  color: #fff;
  border-bottom: 4px solid #5a0000;
  box-shadow: 0 8px 24px rgba(196,30,58,0.5), inset 0 2px 0 rgba(255,255,255,0.15);
}

/* ===== Result Display ===== */
.ud-result-display {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 14px 0;
  animation: udResultPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}
@keyframes udResultPop {
  from { transform: scale(0.7); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.ud-guess-badge {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 18px;
  padding: 6px 16px;
  border-radius: 10px;
  letter-spacing: 2px;
}
.ud-guess-badge.up {
  background: rgba(0,168,107,0.2);
  color: #00e676;
  border: 2px solid rgba(0,230,118,0.4);
}
.ud-guess-badge.down {
  background: rgba(41,98,255,0.2);
  color: #82b1ff;
  border: 2px solid rgba(130,177,255,0.4);
}

.ud-result-text {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 24px;
}
.ud-result-text.correct {
  color: #00e676;
  text-shadow: 0 0 12px rgba(0,230,118,0.4);
}
.ud-result-text.wrong {
  color: #ff5252;
  text-shadow: 0 0 12px rgba(255,82,82,0.4);
}

/* Waiting Text */
.ud-waiting-text {
  text-align: center;
  color: rgba(232,216,168,0.6);
  font-size: 14px;
  font-weight: 700;
  padding: 14px 0;
  animation: udWaitPulse 1.5s ease-in-out infinite;
}
@keyframes udWaitPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* ===== Bet Area ===== */
.ud-bet-area {
  display: flex;
  gap: 8px;
  align-items: center;
}
.ud-bet-input {
  flex: 1;
  padding: 8px 12px;
  background: rgba(10,22,12,0.8);
  border: 1px solid rgba(180,160,80,0.2);
  border-radius: 8px;
  color: #d0d8c8;
  font-size: 13px;
  font-family: inherit;
  outline: none;
  transition: border-color 0.3s;
}
.ud-bet-input:focus {
  border-color: rgba(255,215,0,0.5);
  box-shadow: 0 0 8px rgba(255,215,0,0.1);
}
.ud-btn-bet {
  padding: 8px 16px;
  background: linear-gradient(135deg, #5c3d2e, #3d2817);
  color: #f4e9d8;
  border: none;
  border-radius: 10px;
  font-family: 'Noto Sans KR', sans-serif;
  font-weight: 900;
  font-size: 14px;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s;
  box-shadow: 0 4px 12px rgba(61,40,23,0.4), inset 0 1px 0 rgba(255,255,255,0.1);
}
.ud-btn-bet:hover { transform: translateY(-2px); }
.ud-btn-bet:active { transform: scale(0.95); }

/* ===== Penalty List ===== */
.ud-penalty-list {
  padding: 6px 12px;
  background: rgba(0,0,0,0.3);
  backdrop-filter: blur(5px);
  border-radius: 8px;
  max-height: 64px;
  overflow-y: auto;
  border: 1px solid rgba(180,160,80,0.15);
}
.ud-penalty-header {
  font-size: 10px;
  color: rgba(232,216,168,0.6);
  font-weight: 700;
  margin-bottom: 3px;
  text-transform: uppercase;
  letter-spacing: 1px;
}
#updownPenaltyItems {
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.ud-penalty-item {
  font-size: 11px;
  color: #a0a888;
  padding: 3px 8px;
  background: rgba(0,0,0,0.2);
  border-radius: 5px;
  border-left: 2px solid rgba(180,160,80,0.3);
}

/* ===== Special Card Areas ===== */
.ud-special-area {
  position: absolute;
  inset: 0;
  z-index: 10;
  padding: 20px;
  background: rgba(4,10,6,0.92);
  backdrop-filter: blur(8px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  border: 2px solid rgba(255,215,0,0.35);
  animation: udSpecialGlow 2s ease infinite;
}
@keyframes udSpecialGlow {
  0%, 100% { box-shadow: 0 0 10px rgba(255,215,0,0.2); }
  50% { box-shadow: 0 0 24px rgba(255,215,0,0.4); }
}
.ud-special-title {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 20px;
  color: #ffd700;
  margin-bottom: 8px;
  text-shadow: 0 0 8px rgba(255,215,0,0.3);
}
.ud-special-desc {
  font-size: 12px;
  color: #8a9880;
  margin-bottom: 14px;
  line-height: 1.4;
  text-align: center;
  max-width: 320px;
}
.ud-player-select {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-bottom: 14px;
  max-height: 120px;
  overflow-y: auto;
  width: 100%;
  max-width: 320px;
}
.ud-player-option {
  padding: 10px 8px;
  background: rgba(0,0,0,0.25);
  border: 2px solid rgba(120,120,80,0.15);
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 12px;
  font-weight: 700;
  color: #b0b8a0;
}
.ud-player-option:active { transform: scale(0.95); }
.ud-player-option.selected {
  border-color: #ffd700;
  background: rgba(255,215,0,0.1);
  color: #f4e9d8;
}
.ud-player-option .player-avatar-sm { margin: 0 auto 4px; }

.ud-btn-special {
  width: 100%;
  max-width: 320px;
  padding: 16px;
  background: linear-gradient(135deg, #4a4a4a, #2a2a2a);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-family: 'Noto Sans KR', sans-serif;
  font-weight: 900;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 6px 16px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1);
}
.ud-btn-special:hover { transform: translateY(-2px); }
.ud-btn-special:active { transform: scale(0.97); }

.ud-btn-king {
  background: linear-gradient(135deg, #c41e3a, #8b0000);
  color: #ffd700;
  border: 2px solid rgba(255,215,0,0.5);
  font-family: 'Black Han Sans', sans-serif;
  font-size: 20px;
  letter-spacing: 2px;
  box-shadow: 0 8px 20px rgba(196,30,58,0.4), inset 0 2px 0 rgba(255,255,255,0.2);
  text-shadow: 0 1px 4px rgba(0,0,0,0.5);
}
.ud-btn-king:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(196,30,58,0.6), inset 0 2px 0 rgba(255,255,255,0.2);
}

/* ===== Penalty Modal ===== */
.ud-penalty-modal {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(4,10,6,0.95);
  z-index: 150;
  align-items: center;
  justify-content: center;
  padding: 24px;
}
.ud-penalty-modal.active { display: flex; }

.ud-penalty-content {
  background: linear-gradient(135deg, rgba(45,45,50,0.95), rgba(35,35,40,0.95));
  border-radius: 16px;
  padding: 24px;
  max-width: 360px;
  width: 100%;
  text-align: center;
  border: 2px solid rgba(255,215,0,0.25);
  box-shadow: 0 12px 32px rgba(0,0,0,0.6), inset 0 0 30px rgba(255,255,255,0.02);
}
.ud-penalty-title {
  font-family: 'Black Han Sans', sans-serif;
  font-size: 32px;
  color: #ff4444;
  margin-bottom: 12px;
  text-shadow: 0 0 16px rgba(255,68,68,0.3);
}
.ud-penalty-text {
  font-size: 20px;
  font-weight: 700;
  color: #e0e8d8;
  margin-bottom: 8px;
  padding: 12px;
  background: rgba(0,0,0,0.25);
  border-radius: 8px;
  border: 1px solid rgba(180,160,80,0.15);
}
.ud-penalty-who {
  font-size: 14px;
  color: #8a9880;
  margin-bottom: 16px;
}
.ud-btn-accept,
.ud-btn-reject {
  width: 100%;
  padding: 14px;
  border: none;
  border-radius: 10px;
  font-family: 'Black Han Sans', sans-serif;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.15s;
  margin-bottom: 8px;
}
.ud-btn-accept {
  background: linear-gradient(135deg, #00a86b, #008751);
  color: #fff;
  box-shadow: 0 6px 16px rgba(0,168,107,0.3), inset 0 1px 0 rgba(255,255,255,0.15);
}
.ud-btn-reject {
  background: linear-gradient(135deg, #c41e3a, #8b0000);
  color: #ffcccc;
  box-shadow: 0 6px 16px rgba(196,30,58,0.3), inset 0 1px 0 rgba(255,255,255,0.1);
}
.ud-btn-accept:active,
.ud-btn-reject:active { transform: scale(0.97); }

/* ===== Landscape optimization ===== */
@media (max-height: 500px) {
  .ud-cards-area { gap: 14px; padding: 4px 0; }
  .ud-btn { padding: 10px 8px; }
  .ud-btn-arrow { font-size: 20px; }
  .ud-btn-label { font-size: 16px; }
  .ud-penalty-list { max-height: 40px; }
  .ud-result { font-size: 18px; min-height: 22px; }
}
